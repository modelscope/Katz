Using EulerDiscreteScheduler
In unet_2d_condition.py
Using pipeline pipeline_controlnet_sd_xl_suyi.py
Number of GPUs: 8
Available GPU 0: _CudaDeviceProperties(name='NVIDIA H800', major=9, minor=0, total_memory=81007MB, multi_processor_count=132)
Available GPU 1: _CudaDeviceProperties(name='NVIDIA H800', major=9, minor=0, total_memory=81007MB, multi_processor_count=132)
Available GPU 2: _CudaDeviceProperties(name='NVIDIA H800', major=9, minor=0, total_memory=81007MB, multi_processor_count=132)
Available GPU 3: _CudaDeviceProperties(name='NVIDIA H800', major=9, minor=0, total_memory=81007MB, multi_processor_count=132)
Available GPU 4: _CudaDeviceProperties(name='NVIDIA H800', major=9, minor=0, total_memory=81007MB, multi_processor_count=132)
Available GPU 5: _CudaDeviceProperties(name='NVIDIA H800', major=9, minor=0, total_memory=81007MB, multi_processor_count=132)
Available GPU 6: _CudaDeviceProperties(name='NVIDIA H800', major=9, minor=0, total_memory=81007MB, multi_processor_count=132)
Available GPU 7: _CudaDeviceProperties(name='NVIDIA H800', major=9, minor=0, total_memory=81007MB, multi_processor_count=132)
Args: Namespace(num_images=1, serve_mode='without', world_size=2, gpu_id=0, rank=0, controlnet_parallel=False, controlnet_parallel_rank=[], num_controlnets=0, lora_mode='sync', load_lora_mode='async', max_lora_num=1, latent_parallel=True, verbose=False)
World size: 2, rank: 0
Enable cuda graph: True
Using customized pipeline_stable_diffusion_xl

Loading pipeline components...:   0%|          | 0/7 [00:00<?, ?it/s]
Loading pipeline components...:  43%|████▎     | 3/7 [00:00<00:00,  7.51it/s]
Loading pipeline components...:  71%|███████▏  | 5/7 [00:12<00:06,  3.05s/it]
Loading pipeline components...:  86%|████████▌ | 6/7 [00:12<00:02,  2.34s/it]
Loading pipeline components...: 100%|██████████| 7/7 [00:12<00:00,  1.85s/it]
Enable cuda graph: True

  0%|          | 0/50 [00:00<?, ?it/s]
  2%|▏         | 1/50 [00:27<22:13, 27.22s/it]
 10%|█         | 5/50 [00:27<03:03,  4.08s/it]
 18%|█▊        | 9/50 [00:27<01:16,  1.86s/it]
 26%|██▌       | 13/50 [00:27<00:39,  1.06s/it]
 34%|███▍      | 17/50 [00:27<00:21,  1.51it/s]
 42%|████▏     | 21/50 [00:27<00:12,  2.29it/s]
 50%|█████     | 25/50 [00:27<00:07,  3.33it/s]
 58%|█████▊    | 29/50 [00:28<00:04,  4.70it/s]
 66%|██████▌   | 33/50 [00:28<00:02,  6.44it/s]
 74%|███████▍  | 37/50 [00:28<00:01,  8.58it/s]
 82%|████████▏ | 41/50 [00:28<00:00, 11.08it/s]
 90%|█████████ | 45/50 [00:28<00:00, 13.85it/s]
 98%|█████████▊| 49/50 [00:28<00:00, 16.74it/s]
100%|██████████| 50/50 [00:28<00:00,  1.74it/s]
Fuse LoRA to unet
Patch latency: 0.10
Patched ['TheLastBen/Papercut_SDXL'] at step 0
Total denoising time: 28.75
Total controlnet time: 0.00
Total unet time: 28.29
Load LoRA latency: 0.00
End2End inference latency: 31.64
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.50it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.84it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.93it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.96it/s]
 40%|████      | 20/50 [00:00<00:01, 23.41it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.78it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.55it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.86it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.80it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.49it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.97it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.30it/s]
100%|██████████| 50/50 [00:01<00:00, 29.63it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.69
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.83
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.40it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.78it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.88it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.95it/s]
 40%|████      | 20/50 [00:00<00:01, 23.39it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.77it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.54it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.85it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.80it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.48it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.96it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.31it/s]
100%|██████████| 50/50 [00:01<00:00, 29.61it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.69
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.83
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.34it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.71it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.87it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.93it/s]
 40%|████      | 20/50 [00:00<00:01, 23.40it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.77it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.55it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.87it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.79it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.48it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.96it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.30it/s]
100%|██████████| 50/50 [00:01<00:00, 29.61it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.69
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.83
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.47it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.79it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.90it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.95it/s]
 40%|████      | 20/50 [00:00<00:01, 23.36it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.75it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.53it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.84it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.79it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.47it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.96it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.30it/s]
100%|██████████| 50/50 [00:01<00:00, 29.61it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.69
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.83
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.26it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.68it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.85it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.91it/s]
 40%|████      | 20/50 [00:00<00:01, 23.36it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.73it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.52it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.83it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.77it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.46it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.95it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.28it/s]
100%|██████████| 50/50 [00:01<00:00, 29.58it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.84
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.51it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.86it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.94it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.98it/s]
 40%|████      | 20/50 [00:00<00:01, 23.45it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.57it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.40it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.73it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.71it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.42it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.90it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.26it/s]
100%|██████████| 50/50 [00:01<00:00, 29.56it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 19
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.83
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.52it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.86it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.94it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.97it/s]
 40%|████      | 20/50 [00:00<00:01, 23.24it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.65it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.46it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.79it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.75it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.44it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.93it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.29it/s]
100%|██████████| 50/50 [00:01<00:00, 29.57it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.84
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.49it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.82it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.92it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.95it/s]
 40%|████      | 20/50 [00:00<00:01, 23.23it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.63it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.45it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.76it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.74it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.43it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.93it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.29it/s]
100%|██████████| 50/50 [00:01<00:00, 29.56it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 18
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.84
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.47it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.83it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.92it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.96it/s]
 40%|████      | 20/50 [00:00<00:01, 23.25it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.65it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.45it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.78it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.74it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.43it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.93it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.28it/s]
100%|██████████| 50/50 [00:01<00:00, 29.56it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.84
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.58it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.88it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.95it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.98it/s]
 40%|████      | 20/50 [00:00<00:01, 23.30it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.70it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.49it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.81it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.76it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.46it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.95it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.28it/s]
100%|██████████| 50/50 [00:01<00:00, 29.59it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.84
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.54it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.84it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.94it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.96it/s]
 40%|████      | 20/50 [00:00<00:00, 31.99it/s]
 48%|████▊     | 24/50 [00:00<00:01, 23.73it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 25.95it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 27.63it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 28.88it/s]
 80%|████████  | 40/50 [00:01<00:00, 29.82it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.48it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 30.95it/s]
100%|██████████| 50/50 [00:01<00:00, 29.60it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 20
Total denoising time: 1.69
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.84
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.58it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.85it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.93it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.96it/s]
 40%|████      | 20/50 [00:00<00:01, 23.30it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.71it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.49it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.81it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.76it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.45it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.94it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.28it/s]
100%|██████████| 50/50 [00:01<00:00, 29.59it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.84
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.45it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.80it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.92it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.95it/s]
 40%|████      | 20/50 [00:00<00:01, 23.34it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.74it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.52it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.83it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.78it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.46it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.94it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.29it/s]
100%|██████████| 50/50 [00:01<00:00, 29.59it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.83
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.50it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.86it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.93it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.97it/s]
 40%|████      | 20/50 [00:00<00:01, 23.37it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.76it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.53it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.85it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.79it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.46it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.95it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.28it/s]
100%|██████████| 50/50 [00:01<00:00, 29.61it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.69
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.83
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.38it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.78it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.89it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.94it/s]
 40%|████      | 20/50 [00:00<00:01, 23.38it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.77it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.53it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.85it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.79it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.46it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.95it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.28it/s]
100%|██████████| 50/50 [00:01<00:00, 29.60it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.69
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.83
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.47it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.80it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.91it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.95it/s]
 40%|████      | 20/50 [00:00<00:01, 23.29it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.69it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.49it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.81it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.76it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.45it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.92it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.27it/s]
100%|██████████| 50/50 [00:01<00:00, 29.57it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 18
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.83
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.35it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.80it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.91it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.94it/s]
 40%|████      | 20/50 [00:00<00:01, 23.35it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.73it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.52it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.82it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.77it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.45it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.93it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.29it/s]
100%|██████████| 50/50 [00:01<00:00, 29.58it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 18
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.84
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.46it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.84it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.90it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.97it/s]
 40%|████      | 20/50 [00:00<00:01, 23.26it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.65it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.46it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.78it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.73it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.43it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.92it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.27it/s]
100%|██████████| 50/50 [00:01<00:00, 29.56it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.84
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.33it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.77it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.91it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.95it/s]
 40%|████      | 20/50 [00:00<00:01, 23.20it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.61it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.42it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.75it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.72it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.42it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.91it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.26it/s]
100%|██████████| 50/50 [00:01<00:00, 29.53it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.84
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.46it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.81it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.91it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.96it/s]
 40%|████      | 20/50 [00:00<00:01, 20.10it/s]
 48%|████▊     | 24/50 [00:00<00:01, 23.03it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 25.37it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 27.18it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 28.55it/s]
 80%|████████  | 40/50 [00:01<00:00, 29.55it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.30it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 30.81it/s]
100%|██████████| 50/50 [00:01<00:00, 28.31it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.77
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.91
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.35it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.76it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.88it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.94it/s]
 40%|████      | 20/50 [00:00<00:01, 23.36it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.75it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.52it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.84it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.78it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.46it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.94it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.29it/s]
100%|██████████| 50/50 [00:01<00:00, 29.59it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.83
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.48it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.82it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.92it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.96it/s]
 40%|████      | 20/50 [00:00<00:01, 23.41it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.78it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.55it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.85it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.80it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.47it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.96it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.29it/s]
100%|██████████| 50/50 [00:01<00:00, 29.62it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.69
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.83
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.35it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.79it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.89it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.94it/s]
 40%|████      | 20/50 [00:00<00:01, 23.37it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.77it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.54it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.85it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.80it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.48it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.95it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.29it/s]
100%|██████████| 50/50 [00:01<00:00, 29.60it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.69
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.83
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.55it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.86it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.94it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.97it/s]
 40%|████      | 20/50 [00:00<00:01, 23.30it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.70it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.50it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.81it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.77it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.46it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.93it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.29it/s]
100%|██████████| 50/50 [00:01<00:00, 29.59it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.84
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.36it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.77it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.89it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.93it/s]
 40%|████      | 20/50 [00:00<00:01, 23.27it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.69it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.48it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.80it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.76it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.44it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.93it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.28it/s]
100%|██████████| 50/50 [00:01<00:00, 29.57it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.84
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.52it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.83it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.91it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.96it/s]
 40%|████      | 20/50 [00:00<00:01, 23.30it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.70it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.49it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.82it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.76it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.45it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.94it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.27it/s]
100%|██████████| 50/50 [00:01<00:00, 29.58it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.84
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.33it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.76it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.86it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.94it/s]
 40%|████      | 20/50 [00:00<00:01, 23.31it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.71it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.50it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.81it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.76it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.45it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.94it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.28it/s]
100%|██████████| 50/50 [00:01<00:00, 29.58it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.52
Load LoRA latency: 0.00
End2End inference latency: 1.84
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.52it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.86it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.94it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.96it/s]
 40%|████      | 20/50 [00:00<00:01, 23.25it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.66it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.46it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.79it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.75it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.43it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.93it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.27it/s]
100%|██████████| 50/50 [00:01<00:00, 29.56it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.84
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.51it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.84it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.91it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.96it/s]
 40%|████      | 20/50 [00:00<00:01, 19.58it/s]
 48%|████▊     | 24/50 [00:00<00:01, 22.58it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 25.01it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 26.90it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 28.34it/s]
 80%|████████  | 40/50 [00:01<00:00, 29.40it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.17it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 30.73it/s]
100%|██████████| 50/50 [00:01<00:00, 28.08it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 19
Total denoising time: 1.79
Total controlnet time: 0.00
Total unet time: 1.53
Load LoRA latency: 0.00
End2End inference latency: 1.93
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 31.54it/s]
 16%|█▌        | 8/50 [00:00<00:01, 31.85it/s]
 24%|██▍       | 12/50 [00:00<00:01, 31.90it/s]
 32%|███▏      | 16/50 [00:00<00:01, 31.95it/s]
 40%|████      | 20/50 [00:00<00:01, 23.26it/s]
 48%|████▊     | 24/50 [00:00<00:01, 25.66it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 27.46it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 28.79it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 29.74it/s]
 80%|████████  | 40/50 [00:01<00:00, 30.42it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 30.92it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 31.26it/s]
100%|██████████| 50/50 [00:01<00:00, 29.56it/s]
Fuse LoRA to unet
Patch latency: 0.09
Patched ['TheLastBen/Papercut_SDXL'] at step 17
Total denoising time: 1.70
Total controlnet time: 0.00
Total unet time: 1.52
Load LoRA latency: 0.00
End2End inference latency: 1.84
==============================
End2End inference latency: 70.64
Number of prompts: 30
End2End Throughput: 2.35
Shut down all LoRA loaders [100   0]
/home/lyangbk/.conda/envs/sd-serving/lib/python3.10/multiprocessing/resource_tracker.py:224: UserWarning: resource_tracker: There appear to be 1445 leaked shared_memory objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
