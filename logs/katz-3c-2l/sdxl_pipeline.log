Using EulerDiscreteScheduler
In unet_2d_condition.py
Using pipeline pipeline_controlnet_sd_xl_suyi.py
Number of GPUs: 8
Available GPU 0: _CudaDeviceProperties(name='NVIDIA H800', major=9, minor=0, total_memory=81007MB, multi_processor_count=132)
Available GPU 1: _CudaDeviceProperties(name='NVIDIA H800', major=9, minor=0, total_memory=81007MB, multi_processor_count=132)
Available GPU 2: _CudaDeviceProperties(name='NVIDIA H800', major=9, minor=0, total_memory=81007MB, multi_processor_count=132)
Available GPU 3: _CudaDeviceProperties(name='NVIDIA H800', major=9, minor=0, total_memory=81007MB, multi_processor_count=132)
Available GPU 4: _CudaDeviceProperties(name='NVIDIA H800', major=9, minor=0, total_memory=81007MB, multi_processor_count=132)
Available GPU 5: _CudaDeviceProperties(name='NVIDIA H800', major=9, minor=0, total_memory=81007MB, multi_processor_count=132)
Available GPU 6: _CudaDeviceProperties(name='NVIDIA H800', major=9, minor=0, total_memory=81007MB, multi_processor_count=132)
Available GPU 7: _CudaDeviceProperties(name='NVIDIA H800', major=9, minor=0, total_memory=81007MB, multi_processor_count=132)
Args: Namespace(num_images=1, serve_mode='without', world_size=8, gpu_id=0, rank=0, controlnet_parallel=True, controlnet_parallel_rank=[2, 4, 6], num_controlnets=3, lora_mode='sync', load_lora_mode='async', max_lora_num=2, latent_parallel=True, verbose=False)
World size: 8, rank: 0
Enable cuda graph: True
load_state_dict: safetensors.torch.load_file(/home/lyangbk/.cache/huggingface/hub/models--diffusers--controlnet-depth-sdxl-1.0/snapshots/17bb97973f29801224cd66f192c5ffacf82648b4/diffusion_pytorch_model.fp16.safetensors)
load_state_dict: safetensors.torch.load_file(/home/lyangbk/.cache/huggingface/hub/models--madebyollin--sdxl-vae-fp16-fix/snapshots/207b116dae70ace3637169f1ddd2434b91b3a8cd/diffusion_pytorch_model.safetensors)
Using customized pipeline_stable_diffusion_xl

Loading pipeline components...:   0%|          | 0/7 [00:00<?, ?it/s]
Loading pipeline components...:  43%|████▎     | 3/7 [00:00<00:00,  7.09it/s]
Loading pipeline components...:  86%|████████▌ | 6/7 [00:00<00:00, 12.53it/s]
Loading pipeline components...: 100%|██████████| 7/7 [00:12<00:00,  1.80s/it]
Enable cuda graph: True
load_state_dict: safetensors.torch.load_file(/home/lyangbk/.cache/huggingface/hub/models--stabilityai--stable-diffusion-xl-base-1.0/snapshots/462165984030d82259a11f4367a4eed129e94a7b/unet/diffusion_pytorch_model.safetensors)
[Init] start_loading_flag_np: [0 0]
default_unet_state_dict length 1680

  0%|          | 0/50 [00:00<?, ?it/s]
  2%|▏         | 1/50 [00:28<23:31, 28.82s/it]
 10%|█         | 5/50 [00:28<03:14,  4.32s/it]
 18%|█▊        | 9/50 [00:29<01:20,  1.97s/it]
 26%|██▌       | 13/50 [00:29<00:41,  1.12s/it]
 34%|███▍      | 17/50 [00:29<00:23,  1.43it/s]
 42%|████▏     | 21/50 [00:29<00:13,  2.16it/s]
 50%|█████     | 25/50 [00:29<00:07,  3.14it/s]
 58%|█████▊    | 29/50 [00:29<00:04,  4.43it/s]
 66%|██████▌   | 33/50 [00:29<00:02,  6.07it/s]
 74%|███████▍  | 37/50 [00:30<00:01,  8.09it/s]
 82%|████████▏ | 41/50 [00:30<00:00, 10.44it/s]
 90%|█████████ | 45/50 [00:30<00:00, 13.05it/s]
 98%|█████████▊| 49/50 [00:30<00:00, 15.77it/s]
100%|██████████| 50/50 [00:30<00:00,  1.64it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.13
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 0
Total denoising time: 30.44
Total controlnet time: 0.00
Total unet time: 30.03
Load LoRA latency: 0.00
End2End inference latency: 42.17
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.46it/s]
 14%|█▍        | 7/50 [00:00<00:01, 29.96it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.12it/s]
 30%|███       | 15/50 [00:00<00:01, 30.19it/s]
 38%|███▊      | 19/50 [00:00<00:01, 30.22it/s]
 46%|████▌     | 23/50 [00:00<00:01, 19.08it/s]
 54%|█████▍    | 27/50 [00:01<00:01, 21.69it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 23.83it/s]
 70%|███████   | 35/50 [00:01<00:00, 25.51it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 26.79it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 27.74it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.44it/s]
100%|██████████| 50/50 [00:01<00:00, 26.56it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 20
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.64
Load LoRA latency: 0.00
End2End inference latency: 2.02
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.95it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.14it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.20it/s]
 30%|███       | 15/50 [00:00<00:01, 30.23it/s]
 38%|███▊      | 19/50 [00:00<00:01, 18.71it/s]
 46%|████▌     | 23/50 [00:00<00:01, 21.52it/s]
 54%|█████▍    | 27/50 [00:01<00:00, 23.76it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 25.50it/s]
 70%|███████   | 35/50 [00:01<00:00, 26.80it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 27.75it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 28.45it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.94it/s]
100%|██████████| 50/50 [00:01<00:00, 26.62it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 17
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.64
Load LoRA latency: 0.00
End2End inference latency: 2.02
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 30.08it/s]
 16%|█▌        | 8/50 [00:00<00:01, 30.18it/s]
 24%|██▍       | 12/50 [00:00<00:01, 30.22it/s]
 32%|███▏      | 16/50 [00:00<00:01, 30.23it/s]
 40%|████      | 20/50 [00:00<00:01, 18.87it/s]
 48%|████▊     | 24/50 [00:01<00:01, 21.62it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 23.82it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 25.53it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 26.82it/s]
 80%|████████  | 40/50 [00:01<00:00, 27.77it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 28.46it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 28.96it/s]
100%|██████████| 50/50 [00:01<00:00, 26.63it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 18
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.01
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 30.07it/s]
 16%|█▌        | 8/50 [00:00<00:01, 30.19it/s]
 24%|██▍       | 12/50 [00:00<00:01, 30.22it/s]
 32%|███▏      | 16/50 [00:00<00:01, 30.23it/s]
 40%|████      | 20/50 [00:00<00:01, 19.06it/s]
 48%|████▊     | 24/50 [00:01<00:01, 21.79it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 23.95it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 25.63it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 26.89it/s]
 80%|████████  | 40/50 [00:01<00:00, 27.82it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 28.50it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 28.99it/s]
100%|██████████| 50/50 [00:01<00:00, 26.71it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 18
Total denoising time: 1.87
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.01
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.99it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.18it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.22it/s]
 30%|███       | 15/50 [00:00<00:01, 30.24it/s]
 38%|███▊      | 19/50 [00:00<00:01, 18.70it/s]
 46%|████▌     | 23/50 [00:00<00:01, 21.52it/s]
 54%|█████▍    | 27/50 [00:01<00:00, 23.77it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 25.49it/s]
 70%|███████   | 35/50 [00:01<00:00, 26.79it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 27.75it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 28.44it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.95it/s]
100%|██████████| 50/50 [00:01<00:00, 26.62it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 17
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.64
Load LoRA latency: 0.00
End2End inference latency: 2.02
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 30.09it/s]
 16%|█▌        | 8/50 [00:00<00:01, 30.20it/s]
 24%|██▍       | 12/50 [00:00<00:01, 30.23it/s]
 32%|███▏      | 16/50 [00:00<00:01, 30.24it/s]
 40%|████      | 20/50 [00:00<00:01, 19.02it/s]
 48%|████▊     | 24/50 [00:01<00:01, 21.75it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 23.93it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 25.62it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 26.88it/s]
 80%|████████  | 40/50 [00:01<00:00, 27.82it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 28.49it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 28.98it/s]
100%|██████████| 50/50 [00:01<00:00, 26.70it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 17
Total denoising time: 1.87
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.01
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.98it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.17it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.22it/s]
 30%|███       | 15/50 [00:00<00:01, 30.23it/s]
 38%|███▊      | 19/50 [00:00<00:01, 30.25it/s]
 46%|████▌     | 23/50 [00:00<00:01, 19.45it/s]
 54%|█████▍    | 27/50 [00:01<00:01, 22.04it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 24.12it/s]
 70%|███████   | 35/50 [00:01<00:00, 25.74it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 26.97it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 27.87it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.53it/s]
100%|██████████| 50/50 [00:01<00:00, 26.76it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 20
Total denoising time: 1.87
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.01
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.95it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.16it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.21it/s]
 30%|███       | 15/50 [00:00<00:01, 30.23it/s]
 38%|███▊      | 19/50 [00:00<00:01, 18.67it/s]
 46%|████▌     | 23/50 [00:00<00:01, 21.49it/s]
 54%|█████▍    | 27/50 [00:01<00:00, 23.74it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 25.48it/s]
 70%|███████   | 35/50 [00:01<00:00, 26.78it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 27.74it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 28.44it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.94it/s]
100%|██████████| 50/50 [00:01<00:00, 26.60it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 18
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.02
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.96it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.15it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.19it/s]
 30%|███       | 15/50 [00:00<00:01, 30.22it/s]
 38%|███▊      | 19/50 [00:00<00:01, 16.49it/s]
 46%|████▌     | 23/50 [00:01<00:01, 19.54it/s]
 54%|█████▍    | 27/50 [00:01<00:01, 22.11it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 24.18it/s]
 70%|███████   | 35/50 [00:01<00:00, 25.79it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 27.00it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 27.89it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.55it/s]
100%|██████████| 50/50 [00:01<00:00, 25.56it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 18
Total denoising time: 1.96
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.09
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.99it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.19it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.23it/s]
 30%|███       | 15/50 [00:00<00:01, 30.23it/s]
 38%|███▊      | 19/50 [00:00<00:01, 18.77it/s]
 46%|████▌     | 23/50 [00:00<00:01, 21.58it/s]
 54%|█████▍    | 27/50 [00:01<00:00, 23.82it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 25.53it/s]
 70%|███████   | 35/50 [00:01<00:00, 26.83it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 27.77it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 28.47it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.96it/s]
100%|██████████| 50/50 [00:01<00:00, 26.65it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 18
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.01
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.96it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.15it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.15it/s]
 30%|███       | 15/50 [00:00<00:01, 30.18it/s]
 38%|███▊      | 19/50 [00:00<00:01, 18.71it/s]
 46%|████▌     | 23/50 [00:00<00:01, 21.53it/s]
 54%|█████▍    | 27/50 [00:01<00:00, 23.77it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 25.50it/s]
 70%|███████   | 35/50 [00:01<00:00, 26.80it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 27.76it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 28.45it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.95it/s]
100%|██████████| 50/50 [00:01<00:00, 26.62it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 17
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.64
Load LoRA latency: 0.00
End2End inference latency: 2.01
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 30.09it/s]
 16%|█▌        | 8/50 [00:00<00:01, 30.20it/s]
 24%|██▍       | 12/50 [00:00<00:01, 30.23it/s]
 32%|███▏      | 16/50 [00:00<00:01, 30.24it/s]
 40%|████      | 20/50 [00:00<00:01, 18.83it/s]
 48%|████▊     | 24/50 [00:01<00:01, 21.59it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 23.79it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 25.51it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 26.79it/s]
 80%|████████  | 40/50 [00:01<00:00, 27.74it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 28.45it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 28.94it/s]
100%|██████████| 50/50 [00:01<00:00, 26.61it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 18
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.02
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.94it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.07it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.12it/s]
 30%|███       | 15/50 [00:00<00:01, 30.12it/s]
 38%|███▊      | 19/50 [00:00<00:01, 18.84it/s]
 46%|████▌     | 23/50 [00:00<00:01, 21.65it/s]
 54%|█████▍    | 27/50 [00:01<00:00, 23.87it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 25.58it/s]
 70%|███████   | 35/50 [00:01<00:00, 26.85it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 27.80it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 28.48it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.96it/s]
100%|██████████| 50/50 [00:01<00:00, 26.67it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 17
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.01
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.94it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.16it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.21it/s]
 30%|███       | 15/50 [00:00<00:01, 30.22it/s]
 38%|███▊      | 19/50 [00:00<00:01, 18.71it/s]
 46%|████▌     | 23/50 [00:00<00:01, 21.52it/s]
 54%|█████▍    | 27/50 [00:01<00:00, 23.76it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 25.49it/s]
 70%|███████   | 35/50 [00:01<00:00, 26.79it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 27.74it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 28.44it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.94it/s]
100%|██████████| 50/50 [00:01<00:00, 26.61it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 17
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.64
Load LoRA latency: 0.00
End2End inference latency: 2.02
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 30.06it/s]
 16%|█▌        | 8/50 [00:00<00:01, 30.16it/s]
 24%|██▍       | 12/50 [00:00<00:01, 30.20it/s]
 32%|███▏      | 16/50 [00:00<00:01, 30.21it/s]
 40%|████      | 20/50 [00:00<00:01, 18.80it/s]
 48%|████▊     | 24/50 [00:01<00:01, 21.56it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 23.78it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 25.49it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 26.79it/s]
 80%|████████  | 40/50 [00:01<00:00, 27.73it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 28.43it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 28.94it/s]
100%|██████████| 50/50 [00:01<00:00, 26.59it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 18
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.64
Load LoRA latency: 0.00
End2End inference latency: 2.02
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.95it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.13it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.18it/s]
 30%|███       | 15/50 [00:00<00:01, 30.21it/s]
 38%|███▊      | 19/50 [00:00<00:01, 18.95it/s]
 46%|████▌     | 23/50 [00:00<00:01, 21.73it/s]
 54%|█████▍    | 27/50 [00:01<00:00, 23.94it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 25.62it/s]
 70%|███████   | 35/50 [00:01<00:00, 26.89it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 27.83it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 28.50it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.99it/s]
100%|██████████| 50/50 [00:01<00:00, 26.72it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 18
Total denoising time: 1.87
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.01
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.91it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.09it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.15it/s]
 30%|███       | 15/50 [00:00<00:01, 30.17it/s]
 38%|███▊      | 19/50 [00:00<00:01, 15.99it/s]
 46%|████▌     | 23/50 [00:01<00:01, 19.08it/s]
 54%|█████▍    | 27/50 [00:01<00:01, 21.71it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 23.85it/s]
 70%|███████   | 35/50 [00:01<00:00, 25.53it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 26.80it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 27.74it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.43it/s]
100%|██████████| 50/50 [00:01<00:00, 25.28it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 17
Total denoising time: 1.98
Total controlnet time: 0.00
Total unet time: 1.74
Load LoRA latency: 0.00
End2End inference latency: 2.12
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.98it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.15it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.21it/s]
 30%|███       | 15/50 [00:00<00:01, 30.22it/s]
 38%|███▊      | 19/50 [00:00<00:01, 30.22it/s]
 46%|████▌     | 23/50 [00:01<00:01, 17.12it/s]
 54%|█████▍    | 27/50 [00:01<00:01, 19.97it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 22.39it/s]
 70%|███████   | 35/50 [00:01<00:00, 24.36it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 25.90it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 27.07it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 27.94it/s]
100%|██████████| 50/50 [00:01<00:00, 25.63it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.20
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 20
Total denoising time: 1.95
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.09
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.84it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.12it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.19it/s]
 30%|███       | 15/50 [00:00<00:01, 30.21it/s]
 38%|███▊      | 19/50 [00:00<00:01, 18.84it/s]
 46%|████▌     | 23/50 [00:00<00:01, 21.64it/s]
 54%|█████▍    | 27/50 [00:01<00:00, 23.86it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 25.57it/s]
 70%|███████   | 35/50 [00:01<00:00, 26.85it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 27.79it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 28.47it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.97it/s]
100%|██████████| 50/50 [00:01<00:00, 26.67it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 17
Total denoising time: 1.87
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.01
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.98it/s]
 12%|█▏        | 6/50 [00:00<00:01, 29.81it/s]
 20%|██        | 10/50 [00:00<00:01, 30.03it/s]
 28%|██▊       | 14/50 [00:00<00:01, 30.12it/s]
 36%|███▌      | 18/50 [00:00<00:01, 18.39it/s]
 44%|████▍     | 22/50 [00:00<00:01, 21.32it/s]
 52%|█████▏    | 26/50 [00:01<00:01, 23.64it/s]
 60%|██████    | 30/50 [00:01<00:00, 25.41it/s]
 68%|██████▊   | 34/50 [00:01<00:00, 26.74it/s]
 76%|███████▌  | 38/50 [00:01<00:00, 27.70it/s]
 84%|████████▍ | 42/50 [00:01<00:00, 28.42it/s]
 92%|█████████▏| 46/50 [00:01<00:00, 28.92it/s]
100%|██████████| 50/50 [00:01<00:00, 29.27it/s]
100%|██████████| 50/50 [00:01<00:00, 26.55it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 17
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.64
Load LoRA latency: 0.00
End2End inference latency: 2.02
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.99it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.14it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.22it/s]
 30%|███       | 15/50 [00:00<00:01, 30.25it/s]
 38%|███▊      | 19/50 [00:00<00:01, 18.89it/s]
 46%|████▌     | 23/50 [00:00<00:01, 21.68it/s]
 54%|█████▍    | 27/50 [00:01<00:00, 23.90it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 25.60it/s]
 70%|███████   | 35/50 [00:01<00:00, 26.87it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 27.81it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 28.49it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.97it/s]
100%|██████████| 50/50 [00:01<00:00, 26.70it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 17
Total denoising time: 1.87
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.01
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.98it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.17it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.20it/s]
 30%|███       | 15/50 [00:00<00:01, 30.23it/s]
 38%|███▊      | 19/50 [00:00<00:01, 18.86it/s]
 46%|████▌     | 23/50 [00:00<00:01, 21.66it/s]
 54%|█████▍    | 27/50 [00:01<00:00, 23.89it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 25.60it/s]
 70%|███████   | 35/50 [00:01<00:00, 26.88it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 27.82it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 28.50it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.99it/s]
100%|██████████| 50/50 [00:01<00:00, 26.70it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 17
Total denoising time: 1.87
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.01
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.99it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.17it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.23it/s]
 30%|███       | 15/50 [00:00<00:01, 30.24it/s]
 38%|███▊      | 19/50 [00:00<00:01, 18.73it/s]
 46%|████▌     | 23/50 [00:00<00:01, 21.54it/s]
 54%|█████▍    | 27/50 [00:01<00:00, 23.79it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 25.52it/s]
 70%|███████   | 35/50 [00:01<00:00, 26.81it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 27.77it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 28.47it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.96it/s]
100%|██████████| 50/50 [00:01<00:00, 26.64it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 17
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.01
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 30.10it/s]
 16%|█▌        | 8/50 [00:00<00:01, 30.22it/s]
 24%|██▍       | 12/50 [00:00<00:01, 30.24it/s]
 32%|███▏      | 16/50 [00:00<00:01, 30.25it/s]
 40%|████      | 20/50 [00:00<00:01, 18.79it/s]
 48%|████▊     | 24/50 [00:01<00:01, 21.57it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 23.78it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 25.50it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 26.80it/s]
 80%|████████  | 40/50 [00:01<00:00, 27.73it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 28.43it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 28.92it/s]
100%|██████████| 50/50 [00:01<00:00, 26.60it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 17
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.02
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.91it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.13it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.20it/s]
 30%|███       | 15/50 [00:00<00:01, 30.23it/s]
 38%|███▊      | 19/50 [00:00<00:01, 30.25it/s]
 46%|████▌     | 23/50 [00:01<00:01, 16.74it/s]
 54%|█████▍    | 27/50 [00:01<00:01, 19.62it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 22.10it/s]
 70%|███████   | 35/50 [00:01<00:00, 24.12it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 25.72it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 26.93it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 27.84it/s]
100%|██████████| 50/50 [00:01<00:00, 25.44it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 19
Total denoising time: 1.97
Total controlnet time: 0.00
Total unet time: 1.72
Load LoRA latency: 0.00
End2End inference latency: 2.10
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.96it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.17it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.23it/s]
 30%|███       | 15/50 [00:00<00:01, 30.24it/s]
 38%|███▊      | 19/50 [00:00<00:01, 18.71it/s]
 46%|████▌     | 23/50 [00:00<00:01, 21.52it/s]
 54%|█████▍    | 27/50 [00:01<00:00, 23.77it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 25.50it/s]
 70%|███████   | 35/50 [00:01<00:00, 26.81it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 27.76it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 28.46it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.96it/s]
100%|██████████| 50/50 [00:01<00:00, 26.63it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 17
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.01
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 30.10it/s]
 16%|█▌        | 8/50 [00:00<00:01, 30.21it/s]
 24%|██▍       | 12/50 [00:00<00:01, 30.25it/s]
 32%|███▏      | 16/50 [00:00<00:01, 30.25it/s]
 40%|████      | 20/50 [00:00<00:01, 18.81it/s]
 48%|████▊     | 24/50 [00:01<00:01, 21.56it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 23.78it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 25.50it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 26.80it/s]
 80%|████████  | 40/50 [00:01<00:00, 27.76it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 28.45it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 28.95it/s]
100%|██████████| 50/50 [00:01<00:00, 26.61it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 19
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.64
Load LoRA latency: 0.00
End2End inference latency: 2.02
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  8%|▊         | 4/50 [00:00<00:01, 30.10it/s]
 16%|█▌        | 8/50 [00:00<00:01, 30.18it/s]
 24%|██▍       | 12/50 [00:00<00:01, 30.24it/s]
 32%|███▏      | 16/50 [00:00<00:01, 30.25it/s]
 40%|████      | 20/50 [00:00<00:01, 16.55it/s]
 48%|████▊     | 24/50 [00:01<00:01, 19.55it/s]
 56%|█████▌    | 28/50 [00:01<00:00, 22.09it/s]
 64%|██████▍   | 32/50 [00:01<00:00, 24.15it/s]
 72%|███████▏  | 36/50 [00:01<00:00, 25.75it/s]
 80%|████████  | 40/50 [00:01<00:00, 26.97it/s]
 88%|████████▊ | 44/50 [00:01<00:00, 27.87it/s]
 96%|█████████▌| 48/50 [00:01<00:00, 28.53it/s]
100%|██████████| 50/50 [00:01<00:00, 25.51it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 17
Total denoising time: 1.96
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.10
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.93it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.14it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.21it/s]
 30%|███       | 15/50 [00:00<00:01, 30.23it/s]
 38%|███▊      | 19/50 [00:00<00:01, 18.71it/s]
 46%|████▌     | 23/50 [00:00<00:01, 21.53it/s]
 54%|█████▍    | 27/50 [00:01<00:00, 23.77it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 25.51it/s]
 70%|███████   | 35/50 [00:01<00:00, 26.81it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 27.76it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 28.46it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.96it/s]
100%|██████████| 50/50 [00:01<00:00, 26.62it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 17
Total denoising time: 1.88
Total controlnet time: 0.00
Total unet time: 1.64
Load LoRA latency: 0.00
End2End inference latency: 2.01
==============================

  0%|          | 0/50 [00:00<?, ?it/s]
  6%|▌         | 3/50 [00:00<00:01, 29.92it/s]
 14%|█▍        | 7/50 [00:00<00:01, 30.13it/s]
 22%|██▏       | 11/50 [00:00<00:01, 30.18it/s]
 30%|███       | 15/50 [00:00<00:01, 30.19it/s]
 38%|███▊      | 19/50 [00:00<00:01, 30.21it/s]
 46%|████▌     | 23/50 [00:00<00:01, 19.44it/s]
 54%|█████▍    | 27/50 [00:01<00:01, 22.03it/s]
 62%|██████▏   | 31/50 [00:01<00:00, 24.11it/s]
 70%|███████   | 35/50 [00:01<00:00, 25.73it/s]
 78%|███████▊  | 39/50 [00:01<00:00, 26.96it/s]
 86%|████████▌ | 43/50 [00:01<00:00, 27.86it/s]
 94%|█████████▍| 47/50 [00:01<00:00, 28.53it/s]
100%|██████████| 50/50 [00:01<00:00, 26.74it/s]
Fuse LoRA to unet
Fuse LoRA to text_encoder and text_encoder_2
Patch latency: 0.12
Patched ['TheLastBen/William_Eggleston_Style_SDXL', 'TheLastBen/Filmic'] at step 20
Total denoising time: 1.87
Total controlnet time: 0.00
Total unet time: 1.63
Load LoRA latency: 0.00
End2End inference latency: 2.01
==============================
End2End inference latency: 78.81
Number of prompts: 30
End2End Throughput: 2.63
Shut down all LoRA loaders [100 100]
/home/lyangbk/.conda/envs/sd-serving/lib/python3.10/multiprocessing/resource_tracker.py:224: UserWarning: resource_tracker: There appear to be 3417 leaked shared_memory objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
